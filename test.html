<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<!DOCTYPE html>
<html>
<head>

</head>
<body>
    <table>
        <tr>
            <td>姓名</td>
            <td>
                <input type="text" id="name" value="张三" />
            </td>
        </tr>
        <tr>
            <td>
                身高:
            </td>
            <td>
                <input type="text" id="height" value="180" />厘米
            </td>
        </tr>
        <tr>
            <td>
                体重:
            </td>
            <td>
                <input type="text" id="weight" value="150" />斤
            </td>
        </tr>
        <tr>
            <td>
                <label class="subject">科目1</label>  成绩:
            </td>
            <td>
                <input type="text" name="score" value="111" />
            </td>
        </tr>
        <tr>
            <td>
                <label class="subject">科目2</label>  成绩:
            </td>
            <td>
                <input type="text" name="score" value="111" />
            </td>
        </tr>
        <tr>
            <td>
                <label class="subject">科目3</label>  成绩:
            </td>
            <td>
                <input type="text" name="score" value="111" />
            </td>
        </tr>
        <tr>
            <td>
                <label class="subject">科目4</label>  成绩:
            </td>
            <td>
                <input type="text" name="score" value="111" />
            </td>
        </tr>
        <tr>
            <td>
                <label class="subject">科目5</label>  成绩:
            </td>
            <td>
                <input type="text" name="score" value="111" />
            </td>
        </tr>

    </table>

    <input type="button" id="btn1" value="计算" />
    <br /><br />
    <label id="lbResult" >xxx</label>

    <script src="jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var subjectLabel = document.getElementsByClassName("subject");
        var scoreInput = $("input[name='score']");
        var scores = [];


        $(document).ready(function () {

            $("#btn1").click(function () {
                for (var i = 0; i < scoreInput.length ; i++) {
                    var Score = new Score2(subjectLabel[i].innerText, scoreInput[i].value);
                    scores.push(Score);
                }
                var result = new Student($("#name").val(), $("#height").val(), $("#weight").val(), scores);
                var ffff = result.name + "," + result.height + "," + result.weight + "," + result.ScoresSum() + "," + result.ScoresSum2() + "," + +result.subjectCount;

                $("#lbResult").text(JSON.stringify(result));
            });
        })


        this.Score2 = function Score(subject, scores) {
            this.kemu = subject;
            this.fenshu = scores;
        }

        function Student(name, height, weight, scores)
        {
            this.name = name + "同学";
            this.weight = weightCalculate(weight)+"kg";
            this.height = height+"cm"
            this.subjectCount = scores.length;
            this.ScoresSum3 = ScoresSum(scores);
            //原型方式创建对象
            if (typeof Student._lev == "undefined") {
                Student.prototype.ScoresSum = function () {
                    var fen = 0;
                    for (item in scores) {
                        fen += parseInt(scores[item].fenshu);
                    }
                    return fen;
                }
                Student._lev = true;
            }

            //构造函数方式
            this.ScoresSum2 = function () {
                var fen = 0;
                for (var i = 0; i<scores.length; i++)
                {
                    fen += parseInt(scores[i].fenshu);
                }
                return fen;
            }
        }

        function weightCalculate(weight)
        {
            return weight / 2;
        }

        function ScoresSum()
        {
                var fen = 0;
                for (var i = 0; i<scores.length; i++)
                {
                    fen += parseInt(scores[i].fenshu);
                }
                return fen;
        }

    </script>



</body>
</html> 